<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../css/Index.css">
        <link rel="stylesheet" href="../css/Animacia.css">
        <link rel="shortcut icon" href="https://glavcom.ua/img/article/5843/32_main.jpg">
        <title>National parks</title>
    </head>
    <body>

        <header class="header">
            <div class="container">
                <div class="header__inner">
                    <div class="header__logo">Top 10</div>
                    <nav id="nav">
                        <a class="nav__link" href="YellowstoneNP.html">Yellowstone NP</a>
                        <a class="nav__link" href="PlitviceLakesNP.html">Plitvice Lakes NP</a>
                        <a class="nav__link" href="TorresDelPaineNP.html">Torres del Paine NP</a>
                        <a class="nav__link" href="#Contact">Contact</a>
                    </nav>
                </div>
            </div>
        </header>


        <div class="intro">
            <div class="container">
                <div class="intro__inner">
                    <h1 class="intro__title">Welcome to<br> the Best National Parks <br>in the World</h1>
                </div>
            </div>
        </div>

        <section>
            <br><br>
            <div class="container">
                <div class="section__header">
                    <br>
                    <h2>About the park</h2>
                    <div class="section__text">
                        <p>A national park is a park in use for conservation purposes. Often it is a reserve of natural,
                            semi-natural, or developed land that a sovereign state declares or owns. Although individual nations
                            designate their own national parks differently, there is a common idea: the conservation of 'wild
                            nature' for posterity and as a symbol of national pride.</p>
                        <p>An international organization, the International Union for Conservation of Nature (IUCN), and its
                            World Commission on Protected Areas (WCPA), has defined "National Park" as its Category II type of
                            protected areas.[2] According to the IUCN, 6,555 national parks worldwide met its criteria in 2006.
                            IUCN is still discussing the parameters of defining a national park.</p>
                        <p>While this type of national park had been proposed previously, the United States established the
                            first "public park or pleasuring-ground for the benefit and enjoyment of the people", Yellowstone
                            National Park, in 1872.[4] Although Yellowstone was not officially termed a "national park" in its
                            establishing law, it was always termed such in practice[5] and is widely held to be the first and
                            oldest national park in the world. However, the Tobago Main Ridge Forest Reserve (established in
                            1776),[6] and the area surrounding Bogd Khan Uul Mountain (1778) are seen as the oldest legally
                            protected areas, predating Yellowstone by nearly a century</p>
                        <p>National parks are almost always open to visitors.</p>
                        <div class="anim"><img src="../obr/a799a36b32e7bd2609e15998e53deaf9.jpg" height="317" alt="photo park"
                                                          /></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="container">
            <h5 class="section__text">Attendance statistics</h5><br><br><br><br><br>
            <table class="color">
                <tbody>
                <tr>
                    <th>Parks</th>
                    <th>2004</th>
                    <th>2009</th>
                    <th>2014</th>
                    <th>2019</th>
                </tr>
                <tr>
                    <td>Yellowstone</td>
                    <td>2094</td>
                    <td>3038</td>
                    <td>2359</td>
                    <td>4030</td>
                </tr>
                <tr>
                    <td>Plitvice Lakes</td>
                    <td>50447</td>
                    <td>40434</td>
                    <td>4047</td>
                    <td>39070</td>
                </tr>
                <tr>
                    <td>Torres del Paine</td>
                    <td>25704</td>
                    <td>3083</td>
                    <td>33739</td>
                    <td>3698</td>
                </tr>
                </tbody>
            </table>
        </section>

        <section id="artOpnFrm" class="container">
            <h2>Visitor Opinions:</h2>
            <div id="visitorOpinionw">

            </div>
        </section>

        <section id="artOpnFrm" class="container">
            <h2>Your Opinion</h2>
            <p>
                Please, use the form below to state your opinion about this page.
            </p>


            <form id="opnFrm">
                <label class="required" for="nameElm">Your name:</label>
                <input class="hasError" type="text" name="name" id="nameElm" size="20" maxlength="50" placeholder="Enter your name here" required="">
                <br><br>
                <label class="required" for="emailElm">Your email:</label>
                <input type="email" name="email" id="emailElm" size="20" maxlength="50" placeholder="Enter your email here" required="">
                <br><br>
                <label for="urlElm">Your photo url:</label>
                <input type="url" name="photo" id="urlElm" size="20" maxlength="50" placeholder="Enter url here">
                <br><br>
                <label for="opnElm">Where ary you from?</label><br>
                <label>
                    <input checked value="Great Britain" type="radio" name="opnElm">
                    Great Britain
                </label>
                <label>
                    <input value="Germany" type="radio" name="opnElm">
                    Germany
                </label>
                <label>
                    <input value="Ukraine" type="radio" name="opnElm">
                    Ukraine
                </label>
                <br><br>
                <label for="acceptElm">
                    <input type="checkbox" name="accept" id="acceptElm" required>
                    Do you accept the rules of service?
                </label>
                <br><br>
                <label class="required" for="acceptElm">Your review:</label><br>
                <textarea id="reviewElm" name="review" rows="8" cols="80" required></textarea>
                <br><br>

                <label for="keywords">Choose a keywords:</label>
                <input list="keywords" id="keywordsElm" name="keywords" />

                <datalist id="keywords">
                    <option value="Park">
                    <option value="National park">
                    <option value="Yellowstone">
                </datalist>
                <br><br>

                <button type="reset">Reset</button>
                <button type="submit">Send</button>
            </form>
        </section>

        <br><br><br><br>
        <article id="Contact">
            <footer>
                <br>
                <h4 id="one">Anastasiia Tovstolis<br/>2020</h4><br>
            </footer>
        </article>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.min.js"
        integrity="sha256-MPgtcamIpCPKRRm1ppJHkvtNBAuE71xcOM+MmQytXi8="
        crossorigin="anonymous">
        </script>

        <script id="mTmplOneOpinion" type="text/template">
            <section>
                <h3>{{nopName}} <i>{{created}}</i></h3>
                <p>{{nopReview}}</p>
                <p>Email: {{nopEmail}}</p>
                <p>Photo: {{nopUrl}}</p>
                <p>Keywords: {{nopKeywirds}}</p>
                <p>Country: {{nopOpn}}</p>
                <hr>
            </section>
        </script>

        <script>


            function opinion2html(opinion){
                opinion.created=(new Date(opinion.created)).toDateString();
                opinion.willReturnMessage=opinion.willReturn?"I will return to this page.":"Sorry, one visit was enough.";

                const template = document.getElementById("mTmplOneOpinion").innerHTML;
                const htmlWOp = Mustache.render(template,opinion);

                delete(opinion.createdDate);
                delete(opinion.willReturnMessage);

                buildOpinion(htmlWOp);
            }

            function buildOpinion(htmlWOp){
                document.getElementById('visitorOpinionw').innerHTML += htmlWOp;
            }


            let opinions=[];

            if(localStorage.myTreesComments){
                opinions=JSON.parse(localStorage.myTreesComments);
            }

            console.log(opinions);

            for(let i in opinions){
                opinion2html(opinions[i]);
            }

            let myFrmElm=document.getElementById("opnFrm");

            myFrmElm.addEventListener("submit",processOpnFrmData);

            function processOpnFrmData(event){
                event.preventDefault();

                const nopName = document.getElementById("nameElm").value.trim();
                const nopEmail = document.getElementById("emailElm").value.trim();
                const nopUrl = document.getElementById("urlElm").value.trim();
                const nopReview = document.getElementById("reviewElm").value.trim();
                const nopKeywirds = document.getElementById("keywordsElm").value.trim();

                let radios = document.getElementsByName('opnElm');
                let radioValue = false;

                for (let i = 0, length = radios.length; i < length; i++) {
                  if (radios[i].checked) {
                    radioValue = radios[i].value;
                    break;
                  }
                }

                const nopOpn = radioValue;

                if(nopName=="" || nopOpn==""){
                    window.alert("Please, enter both your name and opinion");
                    return;
                }

                const newOpinion =
                    {
                        nopName: nopName,
                        nopEmail: nopEmail,
                        nopUrl: nopUrl,
                        nopReview: nopReview,
                        nopKeywirds: nopKeywirds,
                        nopOpn: nopOpn,
                        created: new Date()
                    };

                console.log("New opinion:\n "+JSON.stringify(newOpinion));

                opinions.push(newOpinion);
                opinion2html(newOpinion);

                localStorage.myTreesComments = JSON.stringify(opinions);
                window.alert("Your opinion has been stored. Look to the console");
                console.log("New opinion added");
                console.log(opinions);

                myFrmElm.reset();
            }



        </script>

    </body>
</html>
